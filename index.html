<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <title>Redireccionando a WhatsAppâ€¦</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
</head>
<body>

<script>
  // =========================
  // CONFIGURACIÃ“N GENERAL
  // =========================
  // NÃºmero de WhatsApp en formato internacional
  // Sin +, sin espacios, sin guiones
  const PHONE_NUMBER = "5493854086653";

  // =========================
  // PARÃMETROS DE ENTRADA
  // =========================
  const params = new URLSearchParams(window.location.search);

  const tipo   = params.get("tipo");
  const nombre = params.get("nombre");
  const plan   = params.get("plan");
  const fecha  = params.get("fecha");
  const link   = params.get("link")
    ? decodeURIComponent(params.get("link"))
    : "";

  let mensaje = "";

  // =========================
  // MENSAJE PRINCIPAL
  // =========================
  if (
    tipo === "bienvenida_socio" &&
    nombre &&
    plan &&
    fecha &&
    link
  ) {
    mensaje =
`ğŸ‘‹ Hola ${nombre}!

ğŸ‰ Bienvenido/a a *Valencia Gym* ğŸ’ª

Elegiste el plan *${plan}*
ğŸ“… Tu fecha de vencimiento mensual es ${fecha}

ğŸ”— AcÃ¡ tenÃ©s el link a tu perfil de socio:
${link}

Desde ahÃ­ vas a poder:
ğŸ‹ï¸â€â™‚ï¸ Ver tu rutina personalizada
ğŸ“† Inscribirte a actividades
â„¹ï¸ Acceder a toda la info del gym

Â¡A entrenar! ğŸ”¥`;
  } else {
    // =========================
    // FALLBACK SEGURO
    // =========================
    mensaje =
`ğŸ‘‹ Hola!

ğŸ‰ Te esperamos en *Valencia Gym* ğŸ’ª

Consultanos y sumate cuando quieras.
Â¡A entrenar! ğŸ”¥`;
  }

  // =========================
  // REDIRECCIÃ“N A WHATSAPP
  // =========================
  const whatsappUrl =
    "https://api.whatsapp.com/send" +
    "?phone=" + PHONE_NUMBER +
    "&text=" + encodeURIComponent(mensaje);

  // RedirecciÃ³n final
  window.location.replace(whatsappUrl);
</script>

<noscript>
  Para continuar, habilitÃ¡ JavaScript.
</noscript>

</body>
</html>

